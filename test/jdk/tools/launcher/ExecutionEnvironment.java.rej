diff a/test/jdk/tools/launcher/ExecutionEnvironment.java b/test/jdk/tools/launcher/ExecutionEnvironment.java	(rejected hunks)
@@ -25,11 +25,24 @@
  * @test
  * @bug 4780570 4731671 6354700 6367077 6670965 4882974
  * @summary Checks for LD_LIBRARY_PATH and execution  on *nixes
+ * @requires os.family != "windows" & !vm.musl & os.family != "aix"
  * @library /test/lib
  * @modules jdk.compiler
  *          jdk.zipfs
  * @compile -XDignore.symbol.file ExecutionEnvironment.java
- * @run main/othervm ExecutionEnvironment
+ * @run main/othervm -DexpandedLdLibraryPath=false ExecutionEnvironment
+ */
+
+/*
+ * @test
+ * @bug 4780570 4731671 6354700 6367077 6670965 4882974
+ * @summary Checks for LD_LIBRARY_PATH and execution  on *nixes
+ * @requires os.family == "aix" | vm.musl
+ * @library /test/lib
+ * @modules jdk.compiler
+ *          jdk.zipfs
+ * @compile -XDignore.symbol.file ExecutionEnvironment.java
+ * @run main/othervm -DexpandedLdLibraryPath=true ExecutionEnvironment
  */
 
 /*
